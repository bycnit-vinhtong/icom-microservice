#Helm
helm ls --all
helm lint  ./hello-world
helm template ./hello-world
helm install --name hello-world ./hello-world
helm upgrade hello-world ./hello-world
helm del --purge [deployment name]

#Docker

kubectl get pods -n kube-public

mvn clean install -Dmaven.test.skip=true
docker build -t 1983vi/icom-auth-server:v1.0.0 -f ./Dockerfile .
docker push 1983vi/icom-auth-server:v1.0.0

helm upgrade bycnit.site-ingress ./ingress/ingress

helm del auth-server
helm upgrade  auth-server ./icom/auth-server
helm install  auth-server ./icom/auth-server


kubectl exec -it  inventory-service-d5b6c6d9c-58h6v -n kube-public -- /bin/bash
docker build -t 1983vi/icom-inventory-service:v1.1.0 -f ./Dockerfile .
docker push 1983vi/icom-inventory-service:v1.1.0

helm del inventory-service
helm install inventory-service ./icom/inventory-service
helm upgrade inventory-service ./icom/inventory-service


kubectl exec -it  catalog-service-697584486c-hmdpd -n kube-public -- /bin/bash
docker build -t 1983vi/icom-catalog-service:v1.2.0 -f ./Dockerfile .
docker push 1983vi/icom-catalog-service:v1.2.0
helm del catalog-service
helm install catalog-service ./icom/catalog-service
helm upgrade catalog-service ./icom/catalog-service


docker build -t 1983vi/icom-audit-service:v1.0.0 -f ./Dockerfile .
docker push 1983vi/icom-audit-service:v1.0.0
helm del audit-service
helm install  audit-service ./icom/audit-service
helm upgrade audit-service ./icom/audit-service

docker build -t 1983vi/icom-gateway-server:v1.0.0 -f ./Dockerfile .
docker push 1983vi/icom-gateway-server:v1.0.0
helm del gateway-server
helm install  gateway-server ./icom/gateway-server


kubectl port-forward zipkin-server-65477d9598-9kwrj 9411 -n kube-public


http://40.68.201.25:9411/zipkin/


helm install  bycnitsite.westeurope.cloudapp.azure.com-tls-secret ingress/certificate
helm install  bycnitsite.westeurope.cloudapp.azure.com-ingress ingress/ingress